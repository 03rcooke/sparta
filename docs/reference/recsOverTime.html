<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Histogram of records over time — recsOverTime â€¢ sparta</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">sparta</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/sparta_vignette.html">sparta - Species Presence/Absence R Trends Analyses</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Histogram of records over time</h1>
    </div>

    
    <p>This is a useful function for visualising your data and how the number of records
change over time. This is key for understanding biases that may be present in your
data (Isaac et al, 2014).</p>
    

    <pre class="usage"><span class='fu'>recsOverTime</span>(<span class='no'>time_period</span>, <span class='kw'>Log</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='st'>"black"</span>, <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>"Year"</span>,
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='fu'>ifelse</span>(<span class='no'>Log</span>, <span class='st'>"log(Frequency)"</span>, <span class='st'>"Frequency"</span>), <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>time_period</th>
      <td><p>A numeric vector of user defined time periods, or a date vector,
as long as the number of observations.</p></td>
    </tr>
    <tr>
      <th>Log</th>
      <td><p>Logical, should the y-axis be on a log scale?</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>Passed to barplot, the colour of bars</p></td>
    </tr>
    <tr>
      <th>xlab</th>
      <td><p>Passed to barplot, the x-axis label</p></td>
    </tr>
    <tr>
      <th>ylab</th>
      <td><p>Passed to barplot, the y-axis label</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguements to pass to barplot</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A plot</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'># Create data</span>
<span class='no'>n</span> <span class='kw'>&lt;-</span> <span class='fl'>3000</span> <span class='co'>#size of dataset</span>
<span class='no'>nyr</span> <span class='kw'>&lt;-</span> <span class='fl'>10</span> <span class='co'># number of years in data</span>
<span class='no'>nSamples</span> <span class='kw'>&lt;-</span> <span class='fl'>30</span> <span class='co'># set number of dates</span>
<span class='no'>nSites</span> <span class='kw'>&lt;-</span> <span class='fl'>15</span> <span class='co'># set number of sites</span>

<span class='co'># Create somes dates</span>
<span class='no'>first</span> <span class='kw'>&lt;-</span> <span class='fu'>as.POSIXct</span>(<span class='fu'>strptime</span>(<span class='st'>"2010/01/01"</span>, <span class='st'>"%Y/%m/%d"</span>))
<span class='no'>last</span> <span class='kw'>&lt;-</span> <span class='fu'>as.POSIXct</span>(<span class='fu'>strptime</span>(<span class='fu'>paste</span>(<span class='fl'>2010</span>+(<span class='no'>nyr</span>-<span class='fl'>1</span>),<span class='st'>"/12/31"</span>, <span class='kw'>sep</span><span class='kw'>=</span><span class='st'>''</span>), <span class='st'>"%Y/%m/%d"</span>))
<span class='no'>dt</span> <span class='kw'>&lt;-</span> <span class='no'>last</span>-<span class='no'>first</span>
<span class='no'>rDates</span> <span class='kw'>&lt;-</span> <span class='no'>first</span> + (<span class='fu'>runif</span>(<span class='no'>nSamples</span>)*<span class='no'>dt</span>)

<span class='co'># taxa are set as random letters</span>
<span class='no'>taxa</span> <span class='kw'>&lt;-</span> <span class='fu'>sample</span>(<span class='no'>letters</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='no'>n</span>, <span class='fl'>TRUE</span>)

<span class='co'># three sites are visited randomly</span>
<span class='no'>site</span> <span class='kw'>&lt;-</span> <span class='fu'>sample</span>(<span class='fu'>paste</span>(<span class='st'>'A'</span>, <span class='fl'>1</span>:<span class='no'>nSites</span>, <span class='kw'>sep</span><span class='kw'>=</span><span class='st'>''</span>), <span class='kw'>size</span> <span class='kw'>=</span> <span class='no'>n</span>, <span class='fl'>TRUE</span>)

<span class='co'># the date of visit is selected at random from those created earlier</span>
<span class='no'>time_period</span> <span class='kw'>&lt;-</span> <span class='fu'>sample</span>(<span class='no'>rDates</span>, <span class='kw'>size</span> <span class='kw'>=</span> <span class='no'>n</span>, <span class='fl'>TRUE</span>)

<span class='co'># combine this to a dataframe (adding a final row of 'bad' data)</span>
<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>taxa</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='no'>taxa</span>,<span class='st'>'bad'</span>),
                 <span class='kw'>site</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='no'>site</span>,<span class='st'>'A1'</span>),
                 <span class='kw'>time_period</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='no'>time_period</span>, <span class='fu'>as.POSIXct</span>(<span class='fu'>strptime</span>(<span class='st'>"1200/01/01"</span>, <span class='st'>"%Y/%m/%d"</span>))))

<span class='co'># This reveals the 'bad data'                  </span>
<span class='fu'>recsOverTime</span>(<span class='no'>df</span>$<span class='no'>time_period</span>)

<span class='co'># remove and replot</span>
<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>df</span>[<span class='fu'>format</span>(<span class='no'>df</span>$<span class='no'>time_period</span>, <span class='st'>'%Y'</span>) <span class='kw'>&gt;</span> <span class='fl'>2000</span>, ]
<span class='fu'>recsOverTime</span>(<span class='no'>df</span>$<span class='no'>time_period</span>)

<span class='co'># plot with style</span>
<span class='fu'>recsOverTime</span>(<span class='no'>df</span>$<span class='no'>time_period</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='st'>'blue'</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>'Records of Species A'</span>,
             <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='st'>'log(number of records)'</span>, <span class='kw'>Log</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Tom August, Gary Powney, Charlie Outhwaite, Colin Harrower, Mark Hill, Nick Isaac.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
